<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>IFPA Guia de Cursos</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root {--verde-principal:#2e7d32;--verde-secundario:#4caf50;--verde-claro:#e8f5e9;--verde-escuro:#1b5e20;--azul-principal:#1565c0;--azul-secundario:#1976d2;--azul-claro:#e3f2fd;--azul-escuro:#0d47a1;--laranja:#ff6d00}
    body{background:#f8f9fa;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}
    .container{max-width:100%}
    .wizard-container{background:linear-gradient(135deg,var(--azul-principal),var(--azul-escuro));color:#fff;border-radius:20px;box-shadow:0 10px 30px rgba(21,101,192,.4);padding:2rem;margin:1rem 0;max-width:1000px}
    .wizard-container.compacto{padding:1.25rem}
    .wizard-step{display:none}
    .wizard-step.active{display:block}
    .wizard-card{background:rgba(255,255,255,.15);border:2px solid rgba(255,255,255,.25);color:#fff;text-align:left;padding:1rem;margin:.5rem 0;border-radius:15px;transition:.3s;width:100%}
    .wizard-card:hover{background:rgba(255,255,255,.25);border-color:rgba(255,255,255,.4)}
    .btn-wizard{background:rgba(255,255,255,.25);border:2px solid rgba(255,255,255,.4);color:#fff;padding:.8rem 1.5rem;border-radius:30px;transition:.3s;font-weight:600}
    .btn-wizard-primary{background:linear-gradient(135deg,var(--laranja),#ff9100);border:none}
    .wizard-header{display:flex;align-items:center;gap:8px;justify-content:flex-start}
    .wizard-header img{height:48px;max-width:180px;object-fit:contain}
    .curso-card{transition:transform .3s ease,box-shadow .3s ease;border:none;border-top:4px solid var(--verde-principal);margin-bottom:1rem;height:100%}
    .curso-card:hover{transform:translateY(-3px);box-shadow:0 10px 20px rgba(0,0,0,.1)}
    .curso-card.inativo{opacity:.75;border-top-color:#6c757d}
    .card-header{background-color:var(--verde-principal);color:#fff;font-weight:600}
    .categoria-btn{background:#fff;color:var(--verde-principal);border:2px solid var(--verde-principal);margin:.2rem}
    .categoria-btn:hover,.categoria-btn.active{background-color:var(--verde-principal);color:#fff;border-color:var(--verde-principal)}
    .curso-detalhes{display:none;background:#fff;border-radius:8px;box-shadow:0 5px 15px rgba(0,0,0,.1);padding:1.5rem;margin-top:1rem}
    .curso-info{background-color:var(--verde-claro);border-radius:8px;padding:1rem}
    .curso-img{height:120px;background-color:var(--verde-claro);display:flex;align-items:center;justify-content:center;border-radius:8px;margin-bottom:1rem}
    .curso-img i{font-size:3rem;color:var(--verde-principal)}
    .detalhe-media{width:100%;height:180px;object-fit:cover;border-radius:8px;margin-bottom:1rem}
    .loading{text-align:center;padding:2rem;color:var(--verde-principal)}
    @media (max-width:768px){.wizard-container{padding:1rem}.wizard-card{padding:.8rem;margin:.6rem 0}.wizard-header img{height:40px}.btn-wizard{margin-bottom:.5rem}.categoria-btn{margin:.3rem}}
  </style>
  <script>
    function cap(s){return s?s.charAt(0).toUpperCase()+s.slice(1):''}
    function sanitizeCampusParam(v){return (v||'').toLowerCase().replace(/[^a-z0-9-]/g,'')}
    function formatCampusDisplay(raw,campusParam){
      if(raw){
        var m=raw.match(/IFPA\s*(?:Campus|campus)\s*(.+)/i);var name=m?m[1].trim():raw.trim();return 'IFPA campus '+name.toUpperCase()
      }
      var sub=campusParam||'ifpa';return 'IFPA campus '+sub.toUpperCase()
    }
    function datasetUrl(campusParam){var cp=sanitizeCampusParam(campusParam);var use=cp||'ifpa';return 'https://osnisanches.github.io/ifcode/cursos/'+use+'.json'}
  </script>
</head>
<body>
  <div class="container">
    <div class="wizard-container compacto">
      <div id="step-0" class="wizard-step active">
        <div class="py-3">
          <div class="wizard-header">
            <h4 id="wizard-intro-title" class="mb-0"></h4>
          </div>
          <p class="mb-3 opacity-75">Encontre a forma√ß√£o perfeita para seu futuro!</p>
          <button class="btn-wizard btn-wizard-primary" onclick="nextStep(1)">Come√ßar agora</button>
        </div>
      </div>

      <div id="step-1" class="wizard-step">
        <h5 class="mb-3 text-center">Qual o seu n√≠vel de ensino?</h5>
        <button class="wizard-card" onclick="nextStep(1.1)"><i class="bi bi-journal me-2"></i>Ensino Fundamental <small class="opacity-75 d-block">incompleto, em curso ou conclu√≠do</small></button>
        <button class="wizard-card" onclick="nextStep(1.2)"><i class="bi bi-book me-2"></i>Ensino M√©dio <small class="opacity-75 d-block">incompleto, em curso ou conclu√≠do</small></button>
        <button class="wizard-card" onclick="selectEscolaridade('superior')"><i class="bi bi-award me-2"></i>Ensino Superior <small class="opacity-75 d-block">incompleto, em curso ou conclu√≠do</small></button>
      </div>

      <div id="step-1.1" class="wizard-step">
        <h5 class="mb-3 text-center">Ensino Fundamental</h5>
        <button class="wizard-card" onclick="selectEscolaridade('fundamental-incompleto')"><i class="bi bi-person me-2"></i>Fundamental incompleto</button>
        <button class="wizard-card" onclick="selectEscolaridade('9-ano')"><i class="bi bi-mortarboard me-2"></i>Estou no 9¬∫ ano</button>
        <button class="wizard-card" onclick="selectEscolaridade('fundamental-completo')"><i class="bi bi-check-circle me-2"></i>Fundamental completo</button>
        <button class="btn-wizard mt-2" onclick="nextStep(1)"><i class="bi bi-arrow-left me-2"></i>Voltar</button>
      </div>

      <div id="step-1.2" class="wizard-step">
        <h5 class="mb-3 text-center">Ensino M√©dio</h5>
        <button class="wizard-card" onclick="nextStep(1.21)"><i class="bi bi-clock me-2"></i>Estou cursando</button>
        <button class="wizard-card" onclick="selectEscolaridade('medio-concluido')"><i class="bi bi-check-circle me-2"></i>J√° conclu√≠</button>
        <button class="btn-wizard mt-2" onclick="nextStep(1)"><i class="bi bi-arrow-left me-2"></i>Voltar</button>
      </div>

      <div id="step-1.21" class="wizard-step">
        <h5 class="mb-3 text-center">Qual ano est√° cursando?</h5>
        <button class="wizard-card" onclick="selectEscolaridade('medio-cursando')"><i class="bi bi-1-circle me-2"></i>1¬∫ ou 2¬∫ anos</button>
        <button class="wizard-card" onclick="selectEscolaridade('medio-concluindo')"><i class="bi bi-3-circle me-2"></i>3¬∫ ano</button>
        <button class="btn-wizard mt-2" onclick="nextStep(1.2)"><i class="bi bi-arrow-left me-2"></i>Voltar</button>
      </div>

      <div id="step-2" class="wizard-step">
        <h5 class="mb-3 text-center">Voc√™ fez ou est√° inscrito no ENEM?</h5>
        <p class="text-center opacity-75 mb-2">Necess√°rio para cursos de gradua√ß√£o</p>
        <button class="wizard-card" onclick="selectEnem('sim')"><i class="bi bi-check-lg me-2"></i>Sim, fiz ou estou inscrito</button>
        <button class="wizard-card" onclick="selectEnem('nao')"><i class="bi bi-x-lg me-2"></i>N√£o fiz e n√£o estou inscrito</button>
      </div>

      <div id="step-3" class="wizard-step">
        <div class="wizard-result">
          <h5 class="mb-2"><i class="bi bi-stars me-2"></i>Sua indica√ß√£o</h5>
          <div id="result-message" class="mb-2"></div>
          <div id="result-cursos" class="mt-2"></div>
        </div>
        <div class="text-center mt-3">
          <button class="btn-wizard btn-wizard-primary me-2" onclick="scrollToCursos()"><i class="bi bi-list-ul me-2"></i>Ver cursos recomendados</button>
          <button class="btn-wizard" onclick="restartWizard()"><i class="bi bi-arrow-repeat me-2"></i>Refazer busca</button>
        </div>
      </div>
    </div>

    <div class="row mb-3" id="cursos-section">
      <div class="col-12">
        <h3 class="mb-2" id="titulo-cursos">Nossos Cursos</h3>
        <div class="d-flex flex-wrap align-items-center" id="filtro-categorias">
          <button id="btn-todos" class="btn categoria-btn" style="background-color:#f1f3f5;border-color:#adb5bd;color:#343a40;margin-right:.5rem">Todos os cursos</button>
          <input type="radio" class="btn-check" name="categoria" id="integrado" autocomplete="off" checked>
          <label class="btn categoria-btn" for="integrado"><i class="bi bi-mortarboard-fill me-2"></i>Integrados <span class="badge bg-light text-dark ms-1" id="count-integrado">0</span></label>
          <input type="radio" class="btn-check" name="categoria" id="subsequente" autocomplete="off">
          <label class="btn categoria-btn" for="subsequente"><i class="bi bi-book-half me-2"></i>Subsequentes <span class="badge bg-light text-dark ms-1" id="count-subsequente">0</span></label>
          <input type="radio" class="btn-check" name="categoria" id="graduacao" autocomplete="off">
          <label class="btn categoria-btn" for="graduacao"><i class="bi bi-award-fill me-2"></i>Gradua√ß√£o <span class="badge bg-light text-dark ms-1" id="count-graduacao">0</span></label>
          <input type="radio" class="btn-check" name="categoria" id="pos" autocomplete="off">
          <label class="btn categoria-btn" for="pos"><i class="bi bi-graph-up me-2"></i>P√≥s-Gradua√ß√£o <span class="badge bg-light text-dark ms-1" id="count-pos">0</span></label>
          <input type="radio" class="btn-check" name="categoria" id="fic" autocomplete="off">
          <label class="btn categoria-btn" for="fic"><i class="bi bi-tools me-2"></i>FIC <span class="badge bg-light text-dark ms-1" id="count-fic">0</span></label>
        </div>
        <div id="categoria-descricao" class="text-muted mt-2"></div>
      </div>
    </div>

    <div class="row" id="cursos-container">
      <div class="col-12 loading">
        <div class="spinner-border text-success" role="status"><span class="visually-hidden">Carregando cursos...</span></div>
        <p class="mt-2">Carregando cursos...</p>
      </div>
    </div>

    <div id="curso-detalhes" class="curso-detalhes"></div>
    <div id="app-footer-brand" class="text-center text-muted small mt-3 d-none"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const campusParam=sanitizeCampusParam(new URLSearchParams(window.location.search).get('campus')||'')
    const DATA_URL=datasetUrl(campusParam)
    const CONFIG={campus:campusParam,proselUrl:'https://prosel.ifpa.edu.br'}
    let wizardData={escolaridade:'',enem:''}
    let categoriasCount={integrado:0,subsequente:0,graduacao:0,pos:0,fic:0}

    function nextStep(step){document.querySelectorAll('.wizard-step').forEach(s=>s.classList.remove('active'));const el=document.getElementById('step-'+step);if(el)el.classList.add('active');const wc=document.querySelector('.wizard-container');if(wc){wc.classList.remove('compacto')}const brandFooter=document.getElementById('app-footer-brand');if(brandFooter&&step!==0){brandFooter.classList.remove('d-none');brandFooter.textContent='Guia de Cursos do IFPA. Criado em 2025 no '+(window.campusNomeDisplay||formatCampusDisplay(null,campusParam))+'.'}}
    function selectEscolaridade(escolaridade){wizardData.escolaridade=escolaridade;if(escolaridade==='medio-concluindo'||escolaridade==='medio-concluido'){nextStep(2)}else{showResult()}}
    function selectEnem(resposta){wizardData.enem=resposta;showResult()}
    function scrollToCursos(){document.getElementById('cursos-section').scrollIntoView({behavior:'smooth',block:'start'})}
    function restartWizard(){wizardData={escolaridade:'',enem:''};nextStep(0)}

    const iconesCategorias={integrado:'bi-laptop',subsequente:'bi-gear-fill',graduacao:'bi-award-fill',pos:'bi-graph-up',fic:'bi-tools'}
    const nomesCategorias={integrado:'Integrado',subsequente:'Subsequente',graduacao:'Gradua√ß√£o',pos:'P√≥s-Gradua√ß√£o',fic:'FIC'}

    function showResult(){const cid=(window.campusNomeDisplay||'').replace(/^IFPA campus\s*/i,'');const messages={
      'fundamental-incompleto':{message:'O '+(window.campusNomeDisplay||formatCampusDisplay(null,campusParam))+' oferta cursos FIC para quem ainda n√£o concluiu o Ensino Fundamental.',categoria:'fic',count:categoriasCount.fic},
      'fundamental-completo':{message:'Que tal fazer curso T√©cnico Integrado ao Ensino M√©dio?',categoria:'integrado',count:categoriasCount.integrado},
      '9-ano':{message:'√â o seu momento de come√ßar no IFPA com o Ensino M√©dio Integrado!',categoria:'integrado',count:categoriasCount.integrado},
      'medio-cursando':{message:'Tem um curso FIC esperando por voc√™!',categoria:'fic',count:categoriasCount.fic},
      'medio-concluindo':{message:wizardData.enem==='sim'?'T√° na hora de escolher o teu futuro em um dos cursos de Gradua√ß√£o!':'Para cursos de Gradua√ß√£o √© necess√°rio o ENEM. Enquanto isso, voc√™ pode fazer um curso T√©cnico Subsequente!',categoria:wizardData.enem==='sim'?'graduacao':'subsequente',count:wizardData.enem==='sim'?categoriasCount.graduacao:categoriasCount.subsequente},
      'medio-concluido':{message:wizardData.enem==='sim'?'T√° na hora de escolher o teu futuro em um dos cursos Subsequentes ou de Gradua√ß√£o!':'Para cursos de Gradua√ß√£o √© necess√°rio o ENEM. Enquanto isso, voc√™ pode fazer um curso T√©cnico Subsequente!',categoria:wizardData.enem==='sim'?'subsequente,graduacao':'subsequente',count:wizardData.enem==='sim'?categoriasCount.subsequente+categoriasCount.graduacao:categoriasCount.subsequente},
      'superior':{message:'O '+(window.campusNomeDisplay||formatCampusDisplay(null,campusParam))+' tem uma p√≥s esperando por voc√™!',categoria:'pos',count:categoriasCount.pos}
    };const result=messages[wizardData.escolaridade];const countText=result.count>1?result.count+' op√ß√µes dispon√≠veis'+(cid?' em '+cid:'')+'.':result.count+' op√ß√£o dispon√≠vel'+(cid?' em '+cid:'')+'.';document.getElementById('result-message').innerHTML='<p class="mb-1">'+result.message+'</p><p class="mb-0 fw-bold">'+countText+'</p>';if(result.categoria.includes(',')){document.querySelectorAll('.categoria-btn').forEach(btn=>btn.classList.remove('active'))}else{const radioBtn=document.getElementById(result.categoria);if(radioBtn){radioBtn.checked=true;filtrarCursos(result.categoria,window.cursosData||[])}}nextStep(3)}

    async function carregarCursos(){try{const res=await fetch(DATA_URL,{cache:'no-store'});if(!res.ok)throw new Error('http '+res.status);const data=await res.json();window.cursosData=Array.isArray(data.cursos)?data.cursos:Array.isArray(data)?data:[];window.campusNomeDisplay=formatCampusDisplay(data.campus,campusParam);document.getElementById('wizard-intro-title').textContent='Descubra seu curso ideal no '+window.campusNomeDisplay;atualizarContagens(window.cursosData);updateCategoriaLabels();configurarFiltros(window.cursosData);mostrarTodos(window.cursosData)}catch(error){document.getElementById('cursos-container').innerHTML='<div class="col-12 text-center text-danger"><i class="bi bi-exclamation-triangle-fill display-4"></i><p class="mt-3">Banco de cursos indispon√≠vel no momento. Tente novamente em instantes.</p></div>';document.getElementById('wizard-intro-title').textContent='Descubra seu curso ideal no '+formatCampusDisplay(null,campusParam)}}

    function exibirCursos(cursos){const container=document.getElementById('cursos-container');const detalhesDiv=document.getElementById('curso-detalhes');if(detalhesDiv){detalhesDiv.style.display='none';detalhesDiv.innerHTML=''}container.innerHTML='';if(!cursos.length){container.innerHTML='<div class="col-12 text-center"><p>Nenhum curso encontrado para esta categoria.</p></div>';return}cursos.forEach(curso=>{const isInativo=curso.status==='Inativo'||curso.status==='Sem oferta';const cardClass=isInativo?'curso-card inativo':'curso-card';const media=curso.imagem&&curso.imagem!=='#'?'<img class="curso-media" data-cat="'+curso.categoria+'" src="'+curso.imagem+'" alt="'+curso.nome+'" style="width:100%;height:120px;object-fit:cover;border-radius:8px">':'<div class="curso-img"><i class="bi '+iconesCategorias[curso.categoria]+'"></i></div>';const ppcBtn=curso.linkPPC&&curso.linkPPC!=='#'?'<a href="'+curso.linkPPC+'" class="btn btn-outline-'+(isInativo?'secondary':'success')+' btn-sm" target="_blank"><i class="bi bi-file-text me-1"></i> PPC</a>':'';const pageBtn=curso.linkCurso&&curso.linkCurso!=='#'?'<a href="'+curso.linkCurso+'" class="btn btn-outline-primary btn-sm" target="_blank"><i class="bi bi-link-45deg me-1"></i> P√°gina do curso</a>':'';const cardHTML='<div class="col-lg-4 col-md-6 curso-card-container" data-categoria="'+curso.categoria+'" data-curso-id="'+curso.id+'"><div class="card '+cardClass+'"><div class="card-header d-flex justify-content-between align-items-center"><span>'+nomesCategorias[curso.categoria]+'</span><span class="badge '+(isInativo?'bg-secondary':'bg-light text-dark')+'">'+(curso.status||'')+'</span></div><div class="card-body">'+media+'<h5 class="card-title mt-2">'+curso.nome+'</h5><p class="card-text">'+(curso.descricao||'')+'</p><div class="d-flex justify-content-between mb-2"><small><i class="bi bi-clock me-1"></i> '+(curso.cargaHoraria||'')+'</small><small><i class="bi bi-person me-1"></i> '+(curso.vagas!=null?curso.vagas:'-')+' vagas</small></div><div class="d-grid gap-2"><button class="btn '+(isInativo?'btn-secondary':'btn-success')+' btn-detalhes" data-curso-id="'+curso.id+'">Ver detalhes</button>'+ppcBtn+pageBtn+'</div></div></div></div>';container.insertAdjacentHTML('beforeend',cardHTML)});container.querySelectorAll('.btn-detalhes').forEach(btn=>{btn.addEventListener('click',()=>{mostrarDetalhesCurso(btn.getAttribute('data-curso-id'),cursos)})});aplicarFallbackMidia();aplicarFallbackIcones()}

    function configurarFiltros(cursos){document.querySelectorAll('input[name="categoria"]').forEach(radio=>{radio.addEventListener('change',function(){const categoria=this.id;filtrarCursos(categoria,cursos);atualizarDescricao(categoria)})});document.getElementById('btn-todos').addEventListener('click',function(){mostrarTodos(cursos)});document.getElementById('categoria-descricao').textContent='';document.getElementById('titulo-cursos').textContent='Nossos Cursos'}
    function filtrarCursos(categoria,cursos){const cursosFiltrados=cursos.filter(curso=>curso.categoria===categoria);exibirCursos(cursosFiltrados)}
    function mostrarTodos(cursos){document.querySelectorAll('input[name="categoria"]').forEach(r=>r.checked=false);document.getElementById('categoria-descricao').textContent='';exibirCursos(cursos)}

    function getCategoriaDescricao(cat){const map={integrado:'Cursos t√©cnicos integrados ao Ensino M√©dio para estudantes que j√° conclu√≠ram o Ensino Fundamental ou equivalente.',subsequente:'Cursos t√©cnicos para quem concluiu o Ensino M√©dio, com forma√ß√£o profissional espec√≠fica.',graduacao:'Cursos superiores de gradua√ß√£o com forma√ß√£o acad√™mica e profissional.',pos:'Cursos de p√≥s-gradua√ß√£o para aprofundamento e especializa√ß√£o.',fic:'Cursos de Forma√ß√£o Inicial e Continuada, de curta dura√ß√£o.'};return map[cat]||''}
    function atualizarDescricao(categoria){document.getElementById('categoria-descricao').textContent=getCategoriaDescricao(categoria)}
    function getCategoriaEmoji(cat){const map={integrado:'üíª',subsequente:'‚öôÔ∏è',graduacao:'üéì',pos:'üìà',fic:'üõ†Ô∏è'};return map[cat]||'üìö'}
    function aplicarFallbackMidia(){document.querySelectorAll('img.curso-media').forEach(img=>{img.onerror=()=>{const cat=img.getAttribute('data-cat');const fallback=document.createElement('div');fallback.className='curso-img';fallback.innerHTML=getCategoriaEmoji(cat);img.replaceWith(fallback)}})}
    function aplicarFallbackDetalhe(){document.querySelectorAll('img.detalhe-media').forEach(img=>{img.onerror=()=>{const cat=img.getAttribute('data-cat');const fallback=document.createElement('div');fallback.className='curso-img';fallback.innerHTML=getCategoriaEmoji(cat);img.replaceWith(fallback)}})}
    function aplicarFallbackIcones(){document.querySelectorAll('.curso-img i.bi').forEach(i=>{const before=window.getComputedStyle(i,'::before').getPropertyValue('content');if(!before||before==='none'||before==='normal'){const p=i.parentElement;const card=p.closest('.curso-card-container');const cat=(card&&card.getAttribute('data-categoria'))||'fic';p.innerHTML=getCategoriaEmoji(cat)}})}

    function mostrarDetalhesCurso(cursoId,cursos){const curso=cursos.find(c=>String(c.id)===String(cursoId));const detalhesDiv=document.getElementById('curso-detalhes');if(!curso)return;const isInativo=curso.status==='Inativo'||curso.status==='Sem oferta';const descModalidade=getCategoriaDescricao(curso.categoria);const media=curso.imagem&&curso.imagem!=='#'?'<img class="detalhe-media" data-cat="'+curso.categoria+'" src="'+curso.imagem+'" alt="'+curso.nome+'">':'<div class="curso-img"><i class="bi '+iconesCategorias[curso.categoria]+'"></i></div>';const docBtns=(curso.linkPPC&&curso.linkPPC!=='#'?'<a href="'+curso.linkPPC+'" class="btn btn-outline-success me-2" target="_blank"><i class="bi bi-download me-1"></i>PPC</a>':'')+(curso.linkCurso&&curso.linkCurso!=='#'?'<a href="'+curso.linkCurso+'" class="btn btn-outline-primary" target="_blank"><i class="bi bi-link-45deg me-1"></i>P√°gina do curso</a>':'');detalhesDiv.innerHTML='<div class="row"><div class="col-md-8">'+media+'<h3 class="mb-2">'+curso.nome+'</h3><p class="lead">'+(curso.descricao||'')+'</p><h5 class="mt-3">Informa√ß√µes do curso</h5><div class="curso-info"><div class="row"><div class="col-md-6"><p><strong>Carga hor√°ria:</strong> '+(curso.cargaHoraria||'')+'</p><p><strong>Vagas:</strong> '+(curso.vagas!=null?curso.vagas:'-')+'</p><p><strong>Turno:</strong> '+(curso.turno||'')+'</p></div><div class="col-md-6"><p><strong>Dura√ß√£o:</strong> '+(curso.duracao||'')+'</p><p><strong>Categoria:</strong> '+nomesCategorias[curso.categoria]+'</p><p class="text-muted"><strong>Descri√ß√£o da modalidade:</strong> '+descModalidade+'</p><p><strong>Status:</strong> <span class="badge '+(isInativo?'bg-secondary':'bg-success')+'">'+(curso.status||'')+'</span></p></div></div></div>'+(docBtns?'<h5 class="mt-3">Documenta√ß√£o</h5>'+docBtns:'')+'</div><div class="col-md-4"><div class="card"><div class="card-header '+(isInativo?'bg-secondary':'bg-success')+' text-white"><h5 class="mb-0">Coordenador</h5></div><div class="card-body"><p class="mb-2"><strong>'+(curso.coordenador||'')+'</strong></p><p class="mb-2"><i class="bi bi-envelope me-2"></i> '+(curso.email||'')+'</p>'+(!isInativo?'<a href="'+CONFIG.proselUrl+'" class="btn btn-success w-100 mt-2" target="_blank">Processo seletivo</a>':'')+'</div></div></div></div><button class="btn btn-secondary mt-3" onclick="fecharDetalhes()">Voltar para a lista</button>';detalhesDiv.style.display='block';aplicarFallbackDetalhe();detalhesDiv.scrollIntoView({behavior:'smooth',block:'start'})}
    function fecharDetalhes(){document.getElementById('curso-detalhes').style.display='none';document.getElementById('cursos-section').scrollIntoView({behavior:'smooth',block:'start'})}

    document.addEventListener('DOMContentLoaded',function(){document.getElementById('wizard-intro-title').textContent='Descubra seu curso ideal no '+formatCampusDisplay(null,campusParam);carregarCursos()})
    function atualizarContagens(cursos){categoriasCount={integrado:0,subsequente:0,graduacao:0,pos:0,fic:0};cursos.forEach(c=>{if(categoriasCount[c.categoria]!=null){categoriasCount[c.categoria]++}})}
    function updateCategoriaLabels(){document.getElementById('count-integrado').textContent=categoriasCount.integrado;document.getElementById('count-subsequente').textContent=categoriasCount.subsequente;document.getElementById('count-graduacao').textContent=categoriasCount.graduacao;document.getElementById('count-pos').textContent=categoriasCount.pos;document.getElementById('count-fic').textContent=categoriasCount.fic}
  </script>
</body>
</html>
